(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9882:function(e,a,t){Promise.resolve().then(t.bind(t,6650))},6650:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return o}});var l=t(7437);t(26);let n=[{id:1,name:"Назначение",type:"text"},{id:2,name:"Длина",type:"text"},{id:3,name:"Селект",type:"select"}],s=[{id:3,value:["Селект 1","Селект 2","Селект 3"]}];var i=t(2265);function m(e){let{item:a,setParamValues:t,paramValues:n}=e,{id:i,name:m,type:r}=a,u=n.find(e=>void 0!==e&&e.paramId===i?e:"");function c(e){if(n.some(a=>a.paramId===+e.target.id)){let a=n.map(a=>a.paramId===+e.target.id?{...a,value:e.target.value}:a);t(a),localStorage.setItem("paramValues",JSON.stringify(a))}else t(a=>[...a,{paramId:+e.target.id,value:e.target.value}])}return(0,l.jsxs)("label",{className:"input",children:[m,("text"===r||"number"===r)&&(0,l.jsx)("input",{id:String(i),className:"input__element",type:r,name:m,onChange:c,value:(null==u?void 0:u.value)||""}),"select"===r&&(0,l.jsx)("select",{className:"input__element input__element_select",id:String(i),name:m,onChange:c,value:null==u?void 0:u.value,children:s.map(e=>{if(e.id===i)return e.value.map(e=>(0,l.jsx)("option",{className:"input__option",value:e,children:e},e))})})]})}function r(e){let{setModelData:a}=e,[t,s]=(0,i.useState)([]);function r(){return{params:n,model:{paramValues:t}}}return(0,i.useEffect)(()=>{let e=localStorage.getItem("paramValues");e&&s(JSON.parse(e))},[]),(0,i.useEffect)(()=>{a(r)},[t]),(0,l.jsxs)("form",{className:"form",action:"#",id:"form",children:[(0,l.jsx)("h1",{className:"form__title",children:"Редактор параметров"}),(0,l.jsx)("fieldset",{className:"form__fieldset",children:n.map(e=>(0,l.jsx)(m,{item:e,setParamValues:s,paramValues:t},e.id))})]})}function u(e){let{item:a,model:t}=e,{name:n,id:s}=a,[m,r]=(0,i.useState)("");return(0,i.useEffect)(()=>{let e=null==t?void 0:t.model.paramValues.find(e=>e.paramId===s);e?r(e.value):r("")},[t,s]),(0,l.jsxs)("div",{className:"model-element",children:[(0,l.jsx)("p",{className:"model-element__name",children:n}),(0,l.jsx)("p",{className:"model-element__value",children:m})]})}function c(e){let{model:a}=e;return(0,l.jsxs)("section",{className:"model",children:[(0,l.jsx)("h2",{className:"model__title",children:"Итоговая модель данных"}),null==a?void 0:a.params.map(e=>(0,l.jsx)(u,{item:e,model:a},e.name))]})}function o(){let[e,a]=(0,i.useState)(null);return console.log(e),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("main",{className:"main",children:[(0,l.jsx)(r,{setModelData:a}),null!==e&&(0,l.jsx)(c,{model:e})]})})}t(3868),t(9960),t(8180)},26:function(){},3868:function(){},8180:function(){},9960:function(){}},function(e){e.O(0,[141,971,23,744],function(){return e(e.s=9882)}),_N_E=e.O()}]);